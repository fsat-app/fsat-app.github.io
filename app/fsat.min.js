'use strict';(function(){function J(){u.innerHTML='nx3cdiv classx3dcontainer space-y-3x3enx3ch6 idx3dgreeting classx3drightx3ex3ch6x3enx3cdiv classx3dspace-3x3enx3carticle classx3dhero justify clamp-6 space-3 rounded stylex3dmarginauto;background-color var(--pico-code-background-color);padding-bottom0x3enx3cp classx3dcenterx3enx3cbx3eThis tool can be used during healthcare consultations to support communication with patients. x3cbx3enx3ca stylex3ddisplayinline-block;colorvar(--pico-accordion-active-summary-color) onclickx3dSwal.fire(n'About',n'x3cpx3eWatercolor illustrations may help individuals recognize and describe their own genital anatomy, including different types of female genital mutilationcutting (FGMC), as defined by the World Health Organization (WHO).x3cpx3enx3cpx3eUsing this app in a clinical context also facilitates data aggregation in Excel files, provides direct statistical visualizations, and supports the sharing of these data.x3cpx3e',n'info')x3enLearn more nx3csvg viewBoxx3d0 0 24 24 widthx3d20 heightx3d20 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dcss-i6dzq1x3ex3ccircle cxx3d12 cyx3d12 rx3d10x3ex3ccirclex3ex3cpath dx3dM9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3x3ex3cpathx3ex3cline x1x3d12 y1x3d17 x2x3d12.01 y2x3d17x3ex3clinex3enx3csvgx3enx3cax3enx3cpx3enx3cdiv classx3dgrid center stylex3dpadding-top0x3e nx3carticle stylex3dbox-shadow none;x3enx3cpx3eManage app installation and data.x3cpx3enx3ca hrefx3d#manage-app rolex3dbutton stylex3ddisplay block;max-width 17em;margin auto;x3enx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnonenstroke-linecapx3dround stroke-linejoinx3droundx3enx3ccircle cxx3d12 cyx3d12 rx3d10x3ex3ccirclex3enx3cpolyline pointsx3d8 12 12 16 16 12x3ex3cpolylinex3enx3cline x1x3d12 y1x3d8 x2x3d12 y2x3d16x3ex3clinex3enx3csvgx3enApp settingsnx3cax3enx3carticlex3enx3carticle stylex3dbox-shadow none; x3enx3cpx3eContribute to research in one click.x3cpx3enx3ca hrefx3d#contribute-research classx3dcontrast rolex3dbutton stylex3ddisplay block;max-width 17em;margin auto;x3enx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnonenstroke-linecapx3dround stroke-linejoinx3droundx3enx3ccircle cxx3d12 cyx3d12 rx3d10x3ex3ccirclex3enx3cpolyline pointsx3d8 12 12 16 16 12x3ex3cpolylinex3enx3cline x1x3d12 y1x3d8 x2x3d12 y2x3d16x3ex3clinex3enx3csvgx3enLearn morenx3cax3enx3carticlex3enx3cdivx3enx3carticlex3enx3cdivx3enx3cdivx3enx3cdiv classx3dcontainerx3enx3cdiv classx3dhero center space-3 outlinex3enx3ch2x3eStart with a new patientx3ch2x3enx3cdiv classx3dgrid space-y-2x3enx3csection classx3darrow-right space-2x3enx3cdiv classx3dbackground-blockx3enx3csupx3e1x3csupx3ex3cbrx3enx3csmallx3eDisplay the watercolor gallery to the patientx3csmallx3enx3cdivx3enx3csectionx3enx3csection classx3darrow-right space-2x3enx3cdiv classx3dbackground-blockx3enx3csupx3e2x3csupx3ex3cbrx3enx3csmallx3eComplete information about the patientx3csmallx3enx3cdivx3enx3csectionx3enx3csection classx3dspace-2x3enx3cdiv classx3dbackground-blockx3enx3csupx3e3x3csupx3ex3cbrx3enx3csmallx3eSave and retrieve information laterx3csmallx3enx3cdivx3enx3csectionx3enx3cdivx3enx3cbutton idx3dcreate-user-btnx3enx3cspanx3eNew sessionx3cspanx3enx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnonenstroke-linecapx3dround stroke-linejoinx3droundx3enx3cpath dx3dM16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2x3ex3cpathx3enx3ccircle cxx3d8.5 cyx3d7 rx3d4x3ex3ccirclex3enx3cpolyline pointsx3d17 11 19 13 23 9x3ex3cpolylinex3enx3csvgx3enx3cbuttonx3enx3cdivx3enx3cdivx3enx3cdiv classx3dplain-sectionx3enx3cdiv classx3dcontainer space-y-3x3enx3cdiv classx3dcenter hero data-aosx3dzoom-inx3enx3ch1x3enx3csvg viewBoxx3d0 0 24 24 widthx3d48 heightx3d48 strokex3dcurrentColor stroke-widthx3d2 fillx3dnonenstroke-linecapx3dround stroke-linejoinx3droundx3enx3cellipse cxx3d12 cyx3d5 rxx3d9 ryx3d3x3ex3cellipsex3enx3cpath dx3dM21 12c0 1.66-4 3-9 3s-9-1.34-9-3x3ex3cpathx3enx3cpath dx3dM3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5x3ex3cpathx3enx3csvgx3enExplore Your Datanx3ch1x3enx3chrx3enx3cdivx3enx3ccanvas idx3dfsat-datax3ex3ccanvasx3enx3ch2x3eList of patients registered on this local devicex3ch2x3enx3cpx3enPatient information is stored locally on this device and is accessible through this application,neven without an internet connection.nx3cpx3enx3cdetails idx3duser-list classx3dspace-y-2x3enx3csummaryx3ex3ca rolex3dbutton classx3doutlinex3eDisplay list of patientsx3cax3ex3csummaryx3enx3cdetailsx3enx3ctable idx3duser-export-list stylex3ddisplaynone;x3e x3ctheadx3e x3ctrx3e x3cthx3eComposed IDx3cthx3e x3cthx3eBirth Datex3cthx3e x3cthx3eAgex3cthx3e x3cthx3eFGM Patient Typex3cthx3e x3cthx3eAge at FGMCx3cthx3e x3cthx3eFGM Professional Typex3cthx3e x3cthx3eCountry of Originx3cthx3e x3cthx3eReligionx3cthx3e x3cthx3eMarital Statusx3cthx3e x3cthx3eViolence Historyx3cthx3e x3cthx3ePsychological Supportx3cthx3e x3cthx3eDefibulation Historyx3cthx3e x3cthx3eReconstructive Surgery Historyx3cthx3e x3cthx3eNumber of Deliveriesx3cthx3e x3cthx3eMenopausex3cthx3e x3cthx3eCreated Atx3cthx3e x3cthx3eData share consentx3cthx3e x3ctrx3e x3ctheadx3e x3ctbodyx3ex3ctbodyx3e x3ctablex3enx3cdiv classx3dgrid clamp-4x3enx3cbutton idx3dcsv-btn classx3dcontrastx3eDownload to .csvx3cbuttonx3enx3cbutton idx3dexcel-btn classx3dcontrastx3eDownload to .xlsxx3cbuttonx3enx3cdivx3enx3cpx3enExported data are pseudonymized u2014nx3ca hrefx3d# onclickx3dSwal.fire(n'Pseudonymization',n'x3cpx3ePseudonymization replaces direct identifiers with a code, reducing privacy risks and complying with GDPR.x3cpx3e',n'info'n)x3enWhat does this meannx3cax3enx3cpx3enx3cdivx3enx3cdivx3enx3cdiv classx3dcontainer space-yb-3x3enx3cdiv idx3dcontribute-research classx3dcenter hero data-aosx3dzoom-inx3enx3ch1x3enx3csvg viewBoxx3d0 0 24 24 widthx3d48 heightx3d48 strokex3dcurrentColor stroke-widthx3d2 fillx3dnonenstroke-linecapx3dround stroke-linejoinx3droundx3enx3cpolyline pointsx3d22 12 18 12 15 21 9 3 6 12 2 12x3ex3cpolylinex3enx3csvgx3enContribute to researchnx3ch1x3enx3chrx3enx3cdivx3enx3cdiv classx3dgrid space-yb-3x3enx3cdiv classx3dspace-3 centerx3enx3cimg srcx3dimggraphicsbody-fig-3.pngnaltx3dAnatomical watercolor illustrationnstylex3dmax-width320px;x3enx3cdivx3enx3cdiv data-aosx3dzoom-in classx3dspace-3x3enx3ch4x3enWould you like to contribute to advancing knowledge on Female Genital MutilationCuttingnx3ch4x3enx3cpx3enYou can securely share your data with the research team led by Prof. Jasmine Abdulcadirnat the University of Geneva (Switzerland).nx3cpx3enx3cbutton idx3dsync-btn classx3dsecondaryx3enSynchronizenx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnonenstroke-linecapx3dround stroke-linejoinx3droundx3enx3cpolyline pointsx3d16 16 12 12 8 16x3ex3cpolylinex3enx3cline x1x3d12 y1x3d12 x2x3d12 y2x3d21x3ex3clinex3enx3cpath dx3dM20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3x3ex3cpathx3enx3csvgx3enx3cbuttonx3enx3chrx3enx3csmallx3enAll transmitted data are anonymized. First name, last name, and email address are excluded.nOnly records for which explicit consent has been provided will be transmitted.nx3csmallx3enx3cdivx3enx3cdivx3enx3cdiv classx3dgrid space-yb-3x3enx3cdiv classx3dspace-3 center stylex3dfilter invert(0.5) sepia(1) hue-rotate(84deg);x3enx3cimg classx3dspace-3 srcx3dimglogosfmed-white.pngnaltx3dAnatomical watercolor illustrationnstylex3dmax-width250px;x3enx3cimg classx3dspace-3 srcx3dimglogoshug-white.pngnaltx3dAnatomical watercolor illustrationnstylex3dmax-width250px;x3enx3cdivx3enx3cdiv classx3dspace-3x3enx3ch4x3ex3cmarkx3eContact usx3cmarkx3ex3ch4x3enx3cpx3enIf you want to collaborate or send data through email, you can write at x3ca hrefx3dmailtojasmine.Abdulcadir@hug.chx3ejasmine.Abdulcadir@hug.chx3cax3e.nx3cpx3enx3cdivx3enx3cdivx3enx3cdivx3enx3cdiv classx3dplain-sectionx3enx3cdiv classx3dcontainer space-y-3x3enx3cdiv classx3dcenter hero idx3dmanage-app data-aosx3dzoom-inx3enx3ch1x3enx3csvg viewBoxx3d0 0 24 24 widthx3d48 heightx3d48 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone nstroke-linecapx3dround stroke-linejoinx3droundx3enx3ccircle cxx3d12 cyx3d12 rx3d3x3ex3ccirclex3enx3cpath dx3dM19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1zx3enx3cpathx3enx3csvgx3enApp managementnx3ch1x3enx3chrx3enx3cdivx3enx3cdiv classx3dgridx3enx3carticlex3enx3ch3x3eInstall FSATx3ch3x3enx3cpx3eOn smartphones and tablets, this tool can be installed as an application that works both online and offline.x3cpx3enx3cbutton idx3dinstall-fsatx3enx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3droundx3enx3cpolyline pointsx3d22 12 18 12 15 21 9 3 6 12 2 12x3ex3cpolylinex3enx3csvgx3enInstall applicationnx3cbuttonx3enx3carticlex3enx3carticlex3enx3ch3x3eDelete My Datax3ch3x3enx3cpx3eYour account and patient data are stored locally on this device. If you wish to reset your account and permanently remove all patient data from this device, you can do so below.x3cpx3enx3cbutton idx3ddelete-fsat stylex3dbackgroundtomatox3enx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone nstroke-linecapx3dround stroke-linejoinx3dround classx3dcss-i6dzq1x3enx3cpolyline pointsx3d3 6 5 6 21 6x3ex3cpolylinex3enx3cpath dx3dM19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2x3ex3cpathx3enx3cline x1x3d10 y1x3d11 x2x3d10 y2x3d17x3ex3clinex3enx3cline x1x3d14 y1x3d11 x2x3d14 y2x3d17x3ex3clinex3enx3csvgx3enDelete My Accountnx3cbuttonx3enx3carticlex3enx3cdivx3enx3cdivx3enx3cdivx3en';u.classList.remove(inactive);document.body.classList.add(fade-white);u.querySelector(#install-fsat).addEventListener(click,ja);u.querySelector(#delete-fsat).addEventListener(click,ka);u.querySelector(#create-user-btn).addEventListener(click,la);u.querySelector(#sync-btn).addEventListener(click,ma);u.querySelector(#csv-btn).addEventListener(click,na);u.querySelector(#excel-btn).addEventListener(click,oa);E=pa();AOS.refreshHard()}function S(a=!1){x.innerHTML='nx3cdiv idx3dpatient-info classx3dcontainer hero space-yt-3x3enx3cdiv classx3dgridx3enx3csection classx3dspace-x-3 hero clamp-4ndata-aosx3dfade-leftndata-aos-mirrorx3dtruendata-aos-delayx3d100x3enx3cp classx3dspace-yt-3x3enThe gallery below is for women and other individuals who wish to learn more about genital anatomynand the different types of FGMC.nx3cbrx3ex3cbrx3enx3cmarkx3enIt does not give a medical diagnosis and does not replace care from a trained healthcare professional.nx3cmarkx3enx3cbrx3ex3cbrx3enIf you have questions, concerns, or health needs, you are encouraged to seek care from a qualifiednand trusted healthcare provider.nx3cpx3enx3cdiv classx3dgridx3enx3cbutton classx3doutline idx3dpurpose-btnx3enGalleryu2019s purposenx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColornstroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3droundx3enx3cpolyline pointsx3d9 18 15 12 9 6x3ex3cpolylinex3enx3csvgx3enx3cbuttonx3enx3cbutton classx3doutline secondary idx3dillustrations-btnx3enAbout illustrationsnx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColornstroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3droundx3enx3cpolyline pointsx3d9 18 15 12 9 6x3ex3cpolylinex3enx3csvgx3enx3cbuttonx3enx3cdivx3enx3csectionx3enx3csection classx3dright space-yt-3 clamp-4 herondata-aosx3dfade-rightndata-aos-mirrorx3dtruendata-aos-delayx3d100x3ennx3cimg srcx3dimggraphicsbody-fig-3.pngnaltx3dWatercolor anatomical illustrationnstylex3dmax-width320px;x3enx3csectionx3enx3cdivx3enx3cdiv classx3dcenterx3enx3ca hrefx3d#patient-gallery aria-labelx3dScroll to galleryx3enx3csvg viewBoxx3d0 0 24 24 widthx3d64 heightx3d64 strokex3dcurrentColornstroke-widthx3d2 fillx3dnone stroke-linecapx3droundnstroke-linejoinx3dround classx3dfloatx3enx3cpolyline pointsx3d6 9 12 15 18 9x3ex3cpolylinex3enx3csvgx3enx3cax3enx3cdivx3enx3cdivx3enx3cdiv idx3dpatient-gallery classx3dplain-section space-yt-1x3enx3cdiv classx3dcontainer stylex3dpositionrelative;x3enx3cdiv classx3dcenterx3enx3ca idx3dcancel-gallerynrolex3dbuttonnclassx3doutline contrastnhrefx3d#patient-infox3enx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColornstroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3droundx3enx3cline x1x3d19 y1x3d12 x2x3d5 y2x3d12x3ex3clinex3enx3cpolyline pointsx3d12 19 5 12 12 5x3ex3cpolylinex3enx3csvgx3enExit Gallery nx3cax3enx3cdivx3enx3cp classx3dcenterx3enx3csmallx3enClick on any illustration below to enlarge it and access further information.nx3csmallx3enx3cpx3enx3cdiv classx3dgrid centerx3ennx3ca data-aosx3dflip-left data-typex3dNo scar data-textx3dNo cutting classx3dwatercolor-thumbx3enx3carticlex3enx3cimg srcx3dimggalleryNM1.jpg altx3dNo visible scar oncontextmenux3dreturn false;x3enx3carticlex3enx3cax3enx3ca data-aosx3dflip-left data-typex3dIandata-textx3dCutting of the clitoral prepucehood classx3dwatercolor-thumbx3enx3carticlex3enx3cimg srcx3dimggallery1A.jpg altx3dFGM Type Ia oncontextmenux3dreturn false;x3enx3carticlex3enx3cax3enx3ca data-aosx3dflip-left data-typex3dIbndata-textx3dPartial or total cutting of the clitoral glans together with the clitoral hood classx3dwatercolor-thumbx3enx3carticlex3enx3cimg srcx3dimggallery1B.jpg altx3dFGM Type Ib oncontextmenux3dreturn false;x3enx3carticlex3enx3cax3ennx3ca data-aosx3dflip-left data-typex3dIIandata-textx3dCutting of the inner labia (prepuce maybe affected) classx3dwatercolor-thumbx3enx3carticlex3enx3cimg srcx3dimggallery2A.jpg altx3dFGM Type IIa oncontextmenux3dreturn false;x3enx3carticlex3enx3cax3enx3cdivx3enx3cdiv classx3dgrid centerx3enx3ca data-aosx3dflip-left data-typex3dIIbndata-textx3dPartial or total cutting of the clitoral glans and cutting of the inner labia(prepuce maybe affected) classx3dwatercolor-thumbx3enx3carticlex3enx3cimg srcx3dimggallery2B.jpg altx3dFGM Type IIb oncontextmenux3dreturn false;x3enx3carticlex3enx3cax3enx3ca data-aosx3dflip-left data-typex3dIIcndata-textx3dPartial or total cutting of the clitoral glans, cutting of the inner labia, and excision of the outer labia classx3dwatercolor-thumbx3enx3carticlex3enx3cimg srcx3dimggallery2C.jpg altx3dFGM Type IIc oncontextmenux3dreturn false;x3enx3carticlex3enx3cax3enx3ca data-aosx3dflip-left data-typex3dIIIbndata-textx3dCutting and apposition of the outer labia. The clitoris may be cut on uncut below the scar.  classx3dwatercolor-thumbx3enx3carticlex3enx3cimg srcx3dimggallery3B.jpg altx3dFGM Type IIIb oncontextmenux3dreturn false;x3enx3carticlex3enx3cax3enx3ca data-aosx3dflip-left data-typex3dUnknown data-textx3dI do not know classx3dwatercolor-thumbx3enx3carticlex3enx3cimg srcx3dimggalleryunknown.jpg altx3dUnknown FGM type oncontextmenux3dreturn false;x3enx3carticlex3enx3cax3enx3cdivx3enx3cdivx3enx3cdivx3en';x.classList.remove(inactive);document.body.classList.add(fade-white);x.querySelector(#purpose-btn).addEventListener(click,qa);x.querySelector(#illustrations-btn).addEventListener(click,ra);x.querySelector(#cancel-gallery).addEventListener(click,c={a===!0(J(),Z())window.location.reload()});a===!1&&sa();AOS.refreshHard()}function Z(){x.innerHTML=;x.classList.add(inactive);document.body.classList.remove(fade-white)}async function F(a){a=(new TextEncoder).encode(a);a=await crypto.subtle.digest(SHA-256,a);return Array.from(new Uint8Array(a)).map(c=c.toString(16).padStart(2,0)).join()}async function aa(a,c=!1,e=!1){try{var b=await fetch(assetcountries-ISO-3166.json);if(!b.ok)throw Error(Failed to load countries.json);const g=await b.json(),f=document.getElementById(a);f.innerHTML='x3coption valuex3dx3eOriginal countryx3coptionx3e';b=[];if(Array.isArray(g))b=g.map(h=[h[alpha-2]h.alpha2h.code,h.nameh.name]).filter(([,h])=h);else if(typeof g===object&&g!==null)b=Object.entries(g);else throw Error(Unexpected countries.json format);const l=SO GN DJ EG ML SD SL ER BF GM MR LR TD ET KE NG SN CF CI GH TG BJ CM NE UG TZ YE ID IQ.split( );eb.sort((h,k)={const n=l.includes(h[0])01,q=l.includes(k[0])01;return n-qh[1].localeCompare(k[1])})b.sort((h,k)=h[1].localeCompare(k[1]));b.forEach(([,h])={const k=document.createElement(option);k.value=h;k.textContent=h;f.appendChild(k)});c&&[Other,Unknown].forEach(h={const k=document.createElement(option);k.value=h;k.textContent=h;f.appendChild(k)})}catch(g){console.error(Error loading countries,g),document.getElementById(a).innerHTML='x3coption valuex3dx3eError loading countriesx3coptionx3e'}}async function ta(a,c,e,b,g){try{const f=`${a.toLowerCase().trim()}${c.toLowerCase().trim()}${e}${b.toLowerCase().trim()}${g}`,l=new TextEncoder,h=await crypto.subtle.digest(SHA-256,l.encode(f));return Array.from(new Uint8Array(h)).map(k=k.toString(16).padStart(2,0)).join().slice(0,16)}catch(f){throw console.error(Error in generateComposedId,f),f;}}async function K(){try{const c=await p.clinician.get(1);if(c){var a=await ba()onlineoffline;document.getElementById(greeting).innerHTML=`Welcome ${c.firstName} br smallNetwork status  b${a}bsmall`}}catch(c){console.error(Error updating greeting,c)}}async function ua(){try{const e=await p.clinician.get(1);if(e){const {valueb,isDismissedg}=await Swal.fire({titleEnter your password,inputpassword,textYou will have access to your private local space. The password is encrypted and is not transmitted online.,inputPlaceholderPassword,inputAttributes{autocapitalizeoff,autocorrectoff},allowOutsideClick!1,showCancelButton!0,confirmButtonTextLOGIN,cancelButtonTextCANCEL,footer'x3ca hrefx3d# classx3dcontrast idx3dforgot-passwordx3eForgot password x3cax3e',didOpen()={Swal.getPopup().classList.add(clinician);Swal.getPopup().querySelector(.swal2-cancel).classList.add(contrast);Swal.getPopup().querySelector(#forgot-password).addEventListener(click,async f={f.preventDefault();Swal.close();await va()})},preConfirmasync f=fawait F(f)!==e.passwordHash(Swal.showValidationMessage(Incorrect password),!1)f(Swal.showValidationMessage(Password is required),!1)});!g&&b&&(document.getElementById(start-view).style.display=none,J(),await K(),await G())}else if((await Swal.fire({html'x3cdiv idx3dterms-of-use stylex3dDisplaynone;overflow-yscroll;max-height65vhx3enx3ch1 classx3dcenter idx3dterms-of-usex3eTerms of usex3ch1x3enx3chrx3enx3cdiv classx3dleft stylex3dfont-size75%x3enx3ch4x3e1. Purpose of the Applicationx3ch4x3enx3cpx3enThe tool is intended solely for information and self-assessment purposes. It does not provide a medical diagnosis and must not replace consultation with qualified healthcare professionals. Users are encouraged to seek appropriate medical advice for any health-related question or concern.nx3cpx3enx3ch4x3e2. Data Processing and Privacyx3ch4x3enx3cpx3eAll data entered in the application arex3cpx3enx3culx3enx3clix3estored locally in the useru2019s browser,x3clix3enx3clix3enot transmitted to any external server without the useru2019s explicit consent,x3clix3enx3clix3eexportable by the user in CSV or Excel format with anonymous identifiers.x3clix3enx3culx3enx3cpx3enData are only sent online to the university server if the user actively chooses to share their anonymised data for academic and research purposes. No identifiable personal information is collected by default.nx3cpx3enx3ch4x3e3. User Responsibilitiesx3ch4x3enx3cpx3eUsers agree tox3cpx3enx3culx3enx3clix3euse the application in compliance with all applicable laws and ethical standards,x3clix3enx3clix3erefrain from uploading or entering any identifying personal data,x3clix3enx3clix3eunderstand the limitations of self-assessment and the necessity of professional medical evaluation.x3clix3enx3culx3enx3ch4x3e4. Intellectual Propertyx3ch4x3enx3cpx3enAll illustrations, interface components, and written content within the application are protected by copyright. Reproduction, distribution, or reuse of the artwork or other materials is prohibited without prior authorisation from the copyright holders.nx3cpx3enx3ch4x3e5. Disclaimer of Liabilityx3ch4x3enx3cpx3enThe application is provided u201cas is,u201d without warranty of any kind. The developers, contributors, and affiliated institutions shall not be held responsible fornx3cpx3enx3culx3enx3clix3eerrors or inaccuracies in the content,x3clix3enx3clix3edecisions made based on information displayed in the application,x3clix3enx3clix3eany technical issues or data loss resulting from the useru2019s device or browser environment.x3clix3enx3culx3enx3ch4x3e6. Updates and Modificationsx3ch4x3enx3cpx3enThe development team may update, modify, or discontinue features of the application at any time in order to improve its performance, ensure compliance, or enhance the user experience.nx3cpx3enx3ch4x3e7. Acceptance of Termsx3ch4x3enx3cpx3enBy using this application, the user acknowledges having read, understood, and accepted these Terms of Use. Continued use of the application constitutes acceptance of any future updates to these terms.nx3cpx3enx3cdivx3enx3cdivx3e',showCancelButton!0,confirmButtonTextI accept terms of use,cancelButtonTextI do not accept,allowOutsideClick!1,didOpen()={Swal.getPopup().classList.add(clinician);Swal.getPopup().querySelector(.swal2-cancel).classList.add(contrast);Swal.getPopup().querySelector(#terms-of-use).style.display=block}})).isConfirmed){var {valuea,isDismissedc}=await Swal.fire({allowOutsideClick!1,confirmButtonTextCreate profile,showCancelButton!0,cancelButtonTextCancel,html'x3chgroup classx3dspace-yb-2 centerx3ex3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dthumb-2 space-1x3ex3cpolyline pointsx3d22 12 18 12 15 21 9 3 6 12 2 12x3ex3cpolylinex3ex3csvgx3ex3ch1x3eCreate x3cspan classx3dno-phonex3eyourx3cspanx3e profilex3ch1x3ex3cpx3eYou will create a local profile. Your data is stored locally in this browser and transmitted online only with your consent.x3cpx3ex3chgroupx3ex3cformx3ex3cdiv classx3dgridx3ex3cinput idx3dswal-firstName placeholderx3dFirst name requiredx3ex3cinput idx3dswal-lastName placeholderx3dLast name requiredx3ex3cdivx3ex3cdiv classx3dgridx3ex3cinput idx3dswal-age typex3dnumber placeholderx3dAge requiredx3ex3cselect idx3dswal-country requiredx3ex3cselectx3ex3cdivx3ex3cdiv classx3dgridx3ex3cselect idx3dswal-profession requiredx3ex3coption valuex3dx3eSelect professionx3coptionx3ex3coption valuex3dGeneral practitionerx3eGeneral practitionerx3coptionx3ex3coption valuex3dObstetrician-gynecologistx3eObstetrician-gynecologistx3coptionx3ex3coption valuex3dPediatricianx3ePediatricianx3coptionx3ex3coption valuex3dNursex3eNursex3coptionx3ex3coption valuex3dMidwifex3eMidwifex3coptionx3ex3coption valuex3dSexologistx3eSexologistx3coptionx3ex3coption valuex3dSocial workerx3eSocial workerx3coptionx3ex3coption valuex3dOther health professionalx3eOther health professionalx3coptionx3ex3coption valuex3dOtherx3eOtherx3coptionx3ex3cselectx3ex3cinput idx3dswal-institution placeholderx3dInstitution requiredx3ex3cdivx3ex3chrx3ex3cdiv classx3dgridx3ex3cinput idx3dswal-email typex3demail placeholderx3dEmail address requiredx3ex3cinput idx3dswal-password typex3dpassword placeholderx3dPassword required autocompletex3dnew-passwordx3ex3cdivx3ex3cformx3e',focusConfirm!1,didOpen()={Swal.getPopup().classList.add(watercolor-ing,clinician);Swal.getPopup().querySelector(.swal2-cancel).classList.add(contrast);aa(swal-country)},preConfirmasync()={const b=document.getElementById(swal-firstName).value,g=document.getElementById(swal-lastName).value;let f=document.getElementById(swal-profession).value;const l=document.getElementById(swal-age).value,h=document.getElementById(swal-institution).value,k=document.getElementById(swal-country).value,n=document.getElementById(swal-email).value;var q=document.getElementById(swal-password).value;if(!(b&&g&&f&&l&&h&&k&&n&&q))return Swal.showValidationMessage(All fields are required),!1;q=await F(q);return{firstNameb,lastNameg,professionf,agel,institutionh,countryk,emailn,passwordHashq}}});if(c)Swal.fire({titleCancelled,htmlx3cp stylex3d'colorwhite'x3eProfile creation cancelled.x3cpx3e,didOpen()={Swal.getPopup().classList.add(swal-hug-popup)}});else if(a){const b=await Swal.fire({titleSet Security Question,html'nx3cpx3eChoose and answer one security question to reset your password if needed. Your answer is securely encrypted.x3cpx3enx3cselect idx3dswal-securityQuestion requiredx3enx3coption valuex3dx3eSelect a security questionx3coptionx3enx3coption valuex3d1x3eWhat is your mother's maiden namex3coptionx3enx3coption valuex3d2x3eWhat is the name of your first petx3coptionx3enx3coption valuex3d3x3eIn what city were you bornx3coptionx3enx3cselectx3enx3cinput idx3dswal-securityAnswer placeholderx3dAnswer requiredx3en',confirmButtonTextSave,showCancelButton!0,cancelButtonTextCancel,allowOutsideClick!1,didOpen()={Swal.getPopup().classList.add(clinician);Swal.getPopup().querySelector(.swal2-cancel).classList.add(contrast)},preConfirmasync()={const g=document.getElementById(swal-securityQuestion).value;var f=document.getElementById(swal-securityAnswer).value;if(!g!f)return Swal.showValidationMessage(Both fields are required),!1;f=await F(f);return{securityTypeg,securityHashf}}});b.isDismissedSwal.fire({titleCancelled,htmlx3cp stylex3d'colorwhite'x3eProfile creation cancelled.x3cpx3e,didOpen()={Swal.getPopup().classList.add(swal-hug-popup)}})b.value&&(Object.assign(a,b.value),await p.clinician.add({id1,...a}),await p.config.put({keysync,value38QQVOLQAE0DaCX9BIWIrcbwiqcOfCq9onI0RmFN5Gi1sPYk}),document.getElementById(start-view).style.display=none,J(),await K(),await G())}}}catch(e){console.error(Error in checkClinicianProfile,e),Swal.fire(Error,An error occurred while checkingcreating the clinician profile.,error)}}function wa(a){switch(Number(a)){case 1returnWhat is your mother's maiden name;case 2returnWhat is the name of your first pet;case 3returnIn what city were you born;defaultreturnUnknown security question.}}async function va(){try{const e=await p.clinician.get(1);if(e&&e.securityType&&e.securityHash){var {valuea}=await Swal.fire({titlePassword Recovery 12,html'nx3cinput idx3dswal-email typex3demail placeholderx3dEmail address requiredx3enx3cselect idx3dswal-profession requiredx3enx3coption valuex3dx3eSelect professionx3coptionx3enx3coption valuex3dGeneral practitionerx3eGeneral practitionerx3coptionx3enx3coption valuex3dObstetrician-gynecologistx3eObstetrician-gynecologistx3coptionx3enx3coption valuex3dPediatricianx3ePediatricianx3coptionx3enx3coption valuex3dNursex3eNursex3coptionx3enx3coption valuex3dMidwifex3eMidwifex3coptionx3enx3coption valuex3dSexologistx3eSexologistx3coptionx3enx3coption valuex3dSocial workerx3eSocial workerx3coptionx3enx3coption valuex3dOther health professionalx3eOther health professionalx3coptionx3enx3coption valuex3dOtherx3eOtherx3coptionx3enx3cselectx3en',confirmButtonTextNext,showCancelButton!0,preConfirm()={const b=document.getElementById(swal-email).value,g=document.getElementById(swal-profession).value;return b&&gb!==e.emailg!==e.profession(Swal.showValidationMessage(Incorrect email or profession),!1){emailb,professiong}(Swal.showValidationMessage(Both fields are required),!1)}});if(a){var {valuec}=await Swal.fire({titlePassword Recovery 22,html`p${wa(e.securityType)}pinput id=swal-securityAnswer placeholder=Answer required`,confirmButtonTextVerify,showCancelButton!0,preConfirmasync()={const b=document.getElementById(swal-securityAnswer).value;return bawait F(b)!==e.securityHash(Swal.showValidationMessage(Incorrect answer),!1)b(Swal.showValidationMessage(Answer is required),!1)}});c&&await Swal.fire({titleSet new password,html'nx3cinput idx3dswal-newPassword typex3dpassword placeholderx3dNew password requiredx3enx3cinput idx3dswal-confirmPassword typex3dpassword placeholderx3dConfirm new password requiredx3en',confirmButtonTextUpdate Password,showCancelButton!0,preConfirmasync()={var b=document.getElementById(swal-newPassword).value;const g=document.getElementById(swal-confirmPassword).value;if(!b!g)return Swal.showValidationMessage(Both fields are required),!1;if(b!==g)return Swal.showValidationMessage(Passwords do not match),!1;b=await F(b);await p.clinician.update(1,{passwordHashb});Swal.fire(Success,Password updated successfully. Please login with the new password.,success)}})}}else Swal.fire(Error,No security question set for this account.,error)}catch(e){console.error(Error in handleForgotPassword,e),Swal.fire(Error,An error occurred during password recovery.,error)}}async function G(){try{const a=await p.users.toArray(),c=document.getElementById(user-list);for(;c.children.length1;)c.removeChild(c.lastElementChild);const e=document.querySelector(#user-export-list tbody);e.innerHTML=;a.forEach(b={if(!b.deleted){const f=Math.floor((new Date-new Date(b.birthDate))315576E5);var g=[];b.violenceHistory&&g.push(`Violence (${b.violenceHistory})`);b.psychologicalSupport===Yes&&g.push(Psych. Support);b.defibulationHistory&&g.push(`Defibulation (${b.defibulationHistory})`);b.reconstructiveSurgeryHistory===Yes&&g.push(Reconst. Surgery);g=g.length0`Hist ${g.join(, )}`;const l=`Deliveries ${b.numDeliveries0}`,h=b.menopause===YesMenopause Yes,k=document.createElement(div);k.classList.add(user-entry);k.innerHTML=`spanb${b.firstName} ${b.lastName} [id ${b.composedId}]bbr Age ${f}- FGM ${b.fgmPatientType}${b.fgmProfessionalType} at Age ${b.ageAtFgmNA}- Origin ${b.countryOrigin}- ${l}${h`- ${h}`}${g`- ${g}`}${b.maritalStatus`- Marital ${b.maritalStatus}`}${b.religion`- Religion ${b.religion}`}${` Sharing data consent ${b.consentToSync===0NoYes}`} spanbutton class=contrast delete-user-btn data-userid=${b.id}Deletebutton`;c.appendChild(k);document.querySelectorAll(.delete-user-btn).forEach(n=n.addEventListener(click,q={xa(q.target.dataset.userid)}));g=document.createElement(tr);g.innerHTML=`td${b.composedId}tdtd${b.birthDate}tdtd${f}tdtd${b.fgmPatientType}tdtd${b.ageAtFgm}tdtd${b.fgmProfessionalType}tdtd${b.countryOrigin}tdtd${b.religion}tdtd${b.maritalStatus}tdtd${b.violenceHistory}tdtd${b.psychologicalSupport}tdtd${b.defibulationHistory}tdtd${b.reconstructiveSurgeryHistory}tdtd${b.numDeliveries}tdtd${b.menopause}tdtd${b.createdAt}tdtd${b.consentToSync}td`;e.appendChild(g)}})}catch(a){console.error(Error in loadUserList,a)}}async function ya(a=,c=0){try{const {valuee}=await Swal.fire({allowOutsideClick!1,confirmButtonTextCreate Patient,showCancelButton!0,html'nx3cform classx3dleftx3enx3chgroup classx3dcenter space-yb-1x3enx3ch2x3e Complete x3cspan classx3dno-phonex3epatient informationx3cspanx3ex3ch2x3enx3chgroupx3enx3cdiv classx3dgridx3enx3cdivx3enx3ch4 classx3dsurtitle space-1x3e Patientu2019s self reported cuttingx3ch4x3enx3cselect idx3dswal-fgmPatientType disabledx3enx3coption valuex3dx3eType of FGMCx3coptionx3enx3coption valuex3dIax3eType Iax3coptionx3enx3coption valuex3dIbx3eType Ibx3coptionx3enx3coption valuex3dIIax3eType IIax3coptionx3enx3coption valuex3dIIbx3eType IIbx3coptionx3enx3coption valuex3dIIcx3eType IIcx3coptionx3enx3coption valuex3dIIIbx3eType IIIbx3coptionx3enx3coption valuex3dNo scarx3eNo visible scarx3coptionx3enx3coption valuex3dUnknownx3eUnknownx3coptionx3enx3cselectx3enx3cdivx3enx3cdivx3enx3ch4 classx3dsurtitle space-1x3e FGMC observed by the health professionalx3ch4x3enx3cselect idx3dswal-fgmProfessionalType autofocus requiredx3enx3coption valuex3dx3eType of FGMCx3coptionx3enx3coption valuex3dIax3eType Iax3coptionx3enx3coption valuex3dIbx3eType Ibx3coptionx3enx3coption valuex3dIIax3eType IIax3coptionx3enx3coption valuex3dIIbx3eType IIbx3coptionx3enx3coption valuex3dIIcx3eType IIcx3coptionx3enx3coption valuex3dIIIax3eType IIIax3coptionx3enx3coption valuex3dIIIbx3eType IIIbx3coptionx3enx3coption valuex3dIVx3eType IVx3coptionx3enx3coption valuex3dNo scarx3eNo visible scarx3coptionx3enx3coption valuex3dUnknownx3eUnknownx3coptionx3enx3cselectx3enx3cdivx3enx3cdivx3enx3chrx3enx3ch4 classx3dsurtitle space-1x3eRequired patient informationx3ch4x3enx3cdiv classx3dgridx3enx3cinput idx3dswal-firstName placeholderx3dFirst name requiredx3enx3cinput idx3dswal-lastName placeholderx3dLast name requiredx3enx3cinput idx3dswal-birthDate typex3ddate placeholderx3dBirth date requiredx3enx3cdivx3enx3cdiv classx3dgridx3enx3cdivx3enx3cinput idx3dswal-ageAtFgm typex3dnumber placeholderx3dAge at FGMC valuex3d data-tooltipx3dLet blank if unknown data-placementx3dBottomx3enx3clabel stylex3ddisplay block;margin-top -0.5em;font-size 0.8em;x3enx3cinput typex3dcheckbox idx3dswal-dontKnowAgex3e Age at Fgmc unknownnx3clabelx3enx3cdivx3enx3cdivx3enx3cselect idx3dswal-countryOrigin requiredx3ex3cselectx3enx3cdivx3enx3cdivx3enx3chrx3enx3ch4 classx3dsurtitle space-1x3eDetailsx3ch4x3enx3cdiv classx3dgridx3enx3cselect idx3dswal-religion x3enx3coption valuex3dx3eReligionx3coptionx3enx3coption valuex3dChristianityx3eChristianityx3coptionx3enx3coption valuex3dIslamx3eIslamx3coptionx3enx3coption valuex3dJudaismx3eJudaismx3coptionx3enx3coption valuex3dBuddhismx3eBuddhismx3coptionx3enx3coption valuex3dSikhismx3eSikhismx3coptionx3enx3coption valuex3dOtherx3eOther religionx3coptionx3enx3coption valuex3dNonex3eNo religionx3coptionx3enx3coption valuex3dUndisclosedx3ePrefer not to sayx3coptionx3enx3cselectx3enx3cselect idx3dswal-maritalStatus x3enx3coption valuex3dx3eMarital statusx3coptionx3enx3coption valuex3dSinglex3eSinglex3coptionx3enx3coption valuex3dMarriedx3eMarriedx3coptionx3enx3coption valuex3dDivorcedx3eDivorcedx3coptionx3enx3coption valuex3dWidowedx3eWidowedx3coptionx3enx3coption valuex3drelationshipx3eIn a relationshipx3coptionx3enx3cselectx3enx3cdivx3enx3cdiv classx3dgridx3enx3cselect idx3dswal-menopausex3enx3coption valuex3dx3eReproductive agex3coptionx3enx3coption valuex3dPre_pubertalx3ePre pubertalx3coptionx3enx3coption valuex3dPre_menopausalx3ePre menopausalx3coptionx3enx3coption valuex3dPeri_menopausalx3ePeri menopausalx3coptionx3enx3coption valuex3dPost_menopausalx3ePost menopausalx3coptionx3enx3cselectx3enx3cinput idx3dswal-numDeliveries typex3dnumber placeholderx3dNumber of deliveriesx3enx3cselect idx3dswal-defibulation namex3dswal-defibulationx3enx3coption valuex3dx3eDefibulationx3coptionx3enx3coption valuex3din_labourx3eYes, in Labourx3coptionx3enx3coption valuex3dduring_pregnancyx3eYes, during Pregnancyx3coptionx3enx3coption valuex3doutside_pregnancyx3eYes, outside of Pregnancyx3coptionx3enx3coption valuex3doutside_pregnancyx3eNo defibulationx3coptionx3enx3cselectx3enx3cdivx3enx3cdiv classx3dgridx3enx3cselect idx3dswal-reconstructiveSurgeryHistory namex3dswal-reconstructiveSurgeryHistoryx3enx3coption valuex3dx3eReconstructive surgeryx3coptionx3enx3coption valuex3dYesx3eYesx3coptionx3enx3coption valuex3dNox3eNox3coptionx3enx3cselectx3enx3cselect idx3dswal-violence namex3dswal-violencex3enx3coption valuex3dx3eHistory of Violencex3coptionx3enx3coption valuex3dphysicalx3eYes, physicalx3coptionx3enx3coption valuex3dsexualx3eYes, sexualx3coptionx3enx3coption valuex3dpsychologicalx3eYes, psychologicalx3coptionx3enx3coption valuex3dseveralx3eYes, several type of violencex3coptionx3enx3coption valuex3dseveralx3eNo history of violencex3coptionx3enx3cselectx3enx3cselect idx3dswal-support namex3dswal-supportx3enx3coption valuex3dx3ePsychologicalpsychosexual supportx3coptionx3enx3coption valuex3dYesx3eYesx3coptionx3enx3coption valuex3dNox3eNox3coptionx3enx3cselectx3enx3cdivx3enx3cformx3e',focusConfirm!1,didOpen()={Swal.getPopup().classList.add(swal-hug-popup-white);Swal.getPopup().querySelector(.swal2-cancel).classList.add(contrast);a&&(document.getElementById(swal-fgmPatientType).value=a);aa(swal-countryOrigin,!0,!0);const b=document.getElementById(swal-countryOrigin);b.addEventListener(change,()={let l=document.getElementById(swal-countryOrigin-other);b.value===Otherl(l=document.createElement(input),l.id=swal-countryOrigin-other,l.placeholder=Specify country,l.required=!0,b.parentNode.insertBefore(l,b.nextSibling))l&&l.remove()});const g=document.getElementById(swal-ageAtFgm),f=document.getElementById(swal-dontKnowAge);f.addEventListener(change,()={f.checked(g.value=,g.disabled=!0,g.placeholder=999 (Donu2019t know))(g.disabled=!1,g.placeholder=Age at FGMC)})},preConfirm()={var b=document.getElementById(swal-countryOrigin).value;if(b===Other&&(b=document.getElementById(swal-countryOrigin-other).value,!b))return Swal.showValidationMessage(Specify other country),!1;const g=document.getElementById(swal-firstName).value,f=document.getElementById(swal-lastName).value,l=document.getElementById(swal-birthDate).value,h=document.getElementById(swal-fgmPatientType).value,k=document.getElementById(swal-fgmProfessionalType).value,n=document.getElementById(swal-religion).value,q=document.getElementById(swal-maritalStatus).value;var r=document.getElementById(swal-ageAtFgm).value;const t=document.getElementById(swal-dontKnowAge).checked,y=document.getElementById(swal-violence).value,D=document.getElementById(swal-defibulation).value,v=document.getElementById(swal-reconstructiveSurgeryHistory).value,z=document.getElementById(swal-numDeliveries).value,L=document.getElementById(swal-menopause).value,M=document.getElementById(swal-support).value;if(t)r=999;else if(!rr.trim()===)return Swal.showValidationMessage('Age at FGMC is required (or check Donu2019t know  Cannot recall)'),!1;return g&&f&&l&&h&&k&&b{firstNameg,lastNamef,birthDatel,fgmPatientTypeh,fgmProfessionalTypek,countryOriginb,religionn,maritalStatusq,ageAtFgmr,violenceHistoryy,defibulationHistoryD,reconstructiveSurgeryHistoryv,numDeliveriesz,menopauseL,psychologicalSupportM}(Swal.showValidationMessage(Required fields are mandatory),!1)}});if(e){if(!await p.clinician.get(1))throw Error(Clinician profile not found);const b=await ta(e.firstName,e.lastName,e.birthDate,e.countryOrigin,e.ageAtFgme.ageAtFgm0),g=Date.now()+Math.random().toString(36).substring(2,7),f=(new Date).toISOString();await p.users.add({uniqueIdg,composedIdb,...e,createdAtf,deleted0,consentToSyncc});await G();E&&E.refresh();Swal.fire({titleSuccess,textPatient added successfully.,confirmButtonTextOK})}else S(!0)}catch(e){console.error(Error in createUser,e),Swal.fire(Error,Error creating the user.,error)}}async function xa(a){try{(await Swal.fire({titleAre you sure,textThis action will mark the user as deleted (and indicate it in synchronization).,iconwarning,showCancelButton!0,confirmButtonTextYes, delete,cancelButtonTextCancel})).isConfirmed&&(await p.users.update(Number(a),{deleted1}),await G(),E&&E.refresh(),Swal.fire(Success,User marked as deleted.,success))}catch(c){console.error(Error in deleteUser,c),Swal.fire(Error,Error deleting the user.,error)}}async function ba(a=1500){if(!navigator.onLine)return!1;try{const c=new AbortController,e=setTimeout(()=c.abort(),a);await fetch(sync.php,{methodHEAD,modeno-cors,cacheno-store,signalc.signal});clearTimeout(e);return!0}catch(c){return!1}}async function za(){return(await p.config.get(sync)).valuenull}async function ma(){try{if(await ba()){var a=await za();if(a){var c=await p.users.filter(n=n.consentToSync===1).toArray(),e=c.filter(n=n.deleted===0).length;if(e===0)Swal.fire(No data to synchronize,No patient records with consent are available for synchronization.,info);else if((await Swal.fire({titleConfirm data transmission,html`pYou are about to send strong${e}strong patient record${e1s} from this local device to the research team.ppsmallAll transmitted data are anonymized and shared only with explicit consent.smallp`,iconquestion,showCancelButton!0,confirmButtonTextSend data,cancelButtonTextCancel,reverseButtons!0,didOpen()={Swal.getPopup().querySelector(.swal2-cancel).classList.add(contrast)}})).isConfirmed){var b=c.map(({firstNamen,lastNameq,emailr,...t})=t),g=await p.clinician.get(1);if(g){var {firstNamef,lastNamel,emailh,...k}=g;(await fetch(sync.php,{methodPOST,headers{Content-Typeapplicationjson,X-App-Context`${a}`},bodyJSON.stringify({usersb,cliniciank})})).ok(Swal.fire(Success,The synchronization was completed successfully.,success),await G())Swal.fire(Error,The synchronization failed.,error)}else Swal.fire(Error,Clinician profile is missing.,error)}}else Swal.fire(Configuration required,Synchronization is not configured.,warning)}else Swal.fire(Offline,An internet connection is required to synchronize data.,warning)}catch(n){console.error(Error in syncUsers,n),n.name===TypeErrorn.name===AbortErrorn.message.includes(fetch)Swal.fire(Offline,Unable to synchronize without an internet connection.,warning)Swal.fire(Error,An unexpected error occurred during synchronization.,error)}}async function Aa(){let a=null;const c=(await Swal.fire({titleWho are you ,html'nx3cdivx3enx3cdiv classx3dgridx3enx3ca idx3dprofessional-boxx3enx3carticle classx3dspace-3x3enx3cimg srcx3dimggraphicspopup-fig-1.jpg widthx3d300 classx3dfloatx3enx3cpx3e x3cbx3eA healthcare professionalx3cbx3ex3cbrx3e Create a local accountx3cpx3enx3carticlex3enx3cax3enx3ca idx3dpatient-boxx3enx3carticle classx3dspace-3x3enx3cimg srcx3dimggraphicspopup-fig-2.jpg widthx3d300 classx3dfloatx3enx3cpx3ex3cbx3eNot a healthcare professionalx3cbx3ex3cbrx3e Access the informative gallery x3cpx3enx3carticlex3enx3cax3enx3cdivx3enx3cdivx3en',showConfirmButton!1,showCancelButton!1,allowOutsideClick!0,didOpen()={Swal.getPopup().classList.add(swal-hug-popup);Swal.getPopup().querySelector(.swal2-cancel).classList.add(contrast);Swal.getConfirmButton().style.display=none;document.getElementById(patient-box).addEventListener(click,()={a=patient;Swal.clickConfirm()});document.getElementById(professional-box).addEventListener(click,()={a=professional;Swal.clickConfirm()});document.querySelectorAll(#patient-gallery a.watercolor-thumb).forEach((e,b)={e.classList.remove(aos-animate);e.setAttribute(data-aos-duration,350+b100)})},preConfirm()=aa!1})).value;c===patient(await Swal.fire({html'x3cdiv idx3dterms-of-use stylex3dDisplaynone;overflow-yscroll;max-height65vhx3enx3ch1 classx3dcenter idx3dterms-of-usex3eTerms of usex3ch1x3enx3chrx3enx3cdiv classx3dleft stylex3dfont-size75%x3enx3ch4x3e1. Purpose of the Applicationx3ch4x3enx3cpx3enThe tool is intended solely for information and self-assessment purposes. It does not provide a medical diagnosis and must not replace consultation with qualified healthcare professionals. Users are encouraged to seek appropriate medical advice for any health-related question or concern.nx3cpx3enx3ch4x3e2. Data Processing and Privacyx3ch4x3enx3cpx3eAll data entered in the application arex3cpx3enx3culx3enx3clix3estored locally in the useru2019s browser,x3clix3enx3clix3enot transmitted to any external server without the useru2019s explicit consent,x3clix3enx3clix3eexportable by the user in CSV or Excel format with anonymous identifiers.x3clix3enx3culx3enx3cpx3enData are only sent online to the university server if the user actively chooses to share their anonymised data for academic and research purposes. No identifiable personal information is collected by default.nx3cpx3enx3ch4x3e3. User Responsibilitiesx3ch4x3enx3cpx3eUsers agree tox3cpx3enx3culx3enx3clix3euse the application in compliance with all applicable laws and ethical standards,x3clix3enx3clix3erefrain from uploading or entering any identifying personal data,x3clix3enx3clix3eunderstand the limitations of self-assessment and the necessity of professional medical evaluation.x3clix3enx3culx3enx3ch4x3e4. Intellectual Propertyx3ch4x3enx3cpx3enAll illustrations, interface components, and written content within the application are protected by copyright. Reproduction, distribution, or reuse of the artwork or other materials is prohibited without prior authorisation from the copyright holders.nx3cpx3enx3ch4x3e5. Disclaimer of Liabilityx3ch4x3enx3cpx3enThe application is provided u201cas is,u201d without warranty of any kind. The developers, contributors, and affiliated institutions shall not be held responsible fornx3cpx3enx3culx3enx3clix3eerrors or inaccuracies in the content,x3clix3enx3clix3edecisions made based on information displayed in the application,x3clix3enx3clix3eany technical issues or data loss resulting from the useru2019s device or browser environment.x3clix3enx3culx3enx3ch4x3e6. Updates and Modificationsx3ch4x3enx3cpx3enThe development team may update, modify, or discontinue features of the application at any time in order to improve its performance, ensure compliance, or enhance the user experience.nx3cpx3enx3ch4x3e7. Acceptance of Termsx3ch4x3enx3cpx3enBy using this application, the user acknowledges having read, understood, and accepted these Terms of Use. Continued use of the application constitutes acceptance of any future updates to these terms.nx3cpx3enx3cdivx3enx3cdivx3enx3cdiv idx3dwarning stylex3dtext-align justify;x3ex3cpx3ex3csmallx3eYou are about to see watercolor illustrations of the vulva, with and without different forms of FGMC. These images are not photographs. They are respectful artistic illustrations created for educational purposes.x3csmallx3ex3cpx3enx3cpx3ex3csmallx3ex3cbx3eSome people may find this content emotionally sensitive.x3cbx3e You may stop, pause, or leave the gallery at any time.x3csmallx3ex3cpx3ex3cdivx3e',showCancelButton!0,allowOutsideClick!1,confirmButtonText'x3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dfeatherx3ex3cpolyline pointsx3d20 6 9 17 4 12x3ex3cpolylinex3ex3csvgx3e x3cspanx3eI acceptx3cspanx3e',cancelButtonText'x3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dfeatherx3ex3cline x1x3d18 y1x3d6 x2x3d6 y2x3d18x3ex3clinex3ex3cline x1x3d6 y1x3d6 x2x3d18 y2x3d18x3ex3clinex3ex3csvgx3e x3cspanx3eGo backx3cspanx3e',didOpen()={Swal.getPopup().classList.add(patient);Swal.getPopup().querySelector(.swal2-cancel).classList.add(contrast)}})).isConfirmed&&(document.getElementById(start-view).style.display=none,S(!1))c===professional&&await ua()}function na(){var a=document.getElementById(user-export-list);a=XLSX.utils.table_to_book(a,{sheetPatients});XLSX.writeFile(a,patients-+Date.now()+.csv)}function oa(){var a=document.getElementById(user-export-list);a=XLSX.utils.table_to_book(a,{sheetPatients});XLSX.writeFile(a,patients-+Date.now()+.xlsx)}function sa(){const a=x.querySelectorAll(a.watercolor-thumb);a[0].style.display=none;a[0].parentElement.style.maxWidth=100vmin;a[7].style.display=none;a[7].parentElement.style.maxWidth=100vmin;a.forEach(c={c.addEventListener(click,async e={if(c.dataset.type!==Unknown){e.preventDefault();e=c.getAttribute(data-type);var b=c.getAttribute(data-text),g=c.querySelector(img).src,f=imgoms+e.slice(0,-1)+.jpg;await Swal.fire({html`div class=grid style=padding0sectionimg src=${g} class=selected-img alt=Selected imagesectionsectionarticle class=lefth3 style=margin-bottom0.15em class=space-yt-1${e===UnknownI don't knowTYPE  +e}h3p style=margin0${b}phrdiv style=positionrelative; class=centerbutton class=btn-compare contrastspanView annotated watercolorspansvg viewBox=0 0 24 24 width=24 height=24 stroke=currentColor stroke-width=2 fill=none stroke-linecap=round stroke-linejoin=round class=css-i6dzq1path d=M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8zpathcircle cx=12 cy=12 r=3circlesvgbuttonimg class=compare-img collapsed src=div class=legend style=padding-top1.75em img src=${f}hrpsmall style=font-size0.6emWHO guideline on the prevention of female genital mutilation and clinical management of complications - 28 April 2025smallpdivdivarticlesectiondiv`,showCancelButton!1,showConfirmButton!1,showCloseButton!0,didOpen()={Swal.getPopup().classList.add(patient,watercolor-img);Swal.getPopup().querySelector(.swal2-cancel).classList.add(contrast);Swal.getPopup().querySelector(.swal2-cancel).focus();const l=Swal.getPopup().querySelector(.compare-img);l.src=Swal.getPopup().querySelector(.selected-img).src.replace(gallery,gallery-l);Swal.getPopup().querySelector(.btn-compare).addEventListener(click,h={l.classList.toggle(collapsed);l.classList.contains(collapsed)h.target.innerHTML='x3cspanx3eView annotated watercolor x3cspanx3ex3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dcss-i6dzq1x3ex3cpath dx3dM1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8zx3ex3cpathx3ex3ccircle cxx3d12 cyx3d12 rx3d3x3ex3ccirclex3ex3csvgx3e'h.target.innerHTML='x3cspanx3eHide annotated watercolor x3cspanx3ex3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dcss-i6dzq1x3ex3cpath dx3dM17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24x3ex3cpathx3ex3cline x1x3d1 y1x3d1 x2x3d23 y2x3d23x3ex3clinex3ex3csvgx3e';Swal.getPopup().querySelector(.legend).classList.toggle(collapsed)})}})}})})}function qa(){Swal.fire({html'nx3cdiv classx3dleft space-3x3enx3cpx3ex3csmallx3eMany women and individuals with FGMC have not received clear or understandable information about their bodies. Some may not have the words to describe their anatomy or experiences. This gallery aims tox3csmallx3ex3cpx3enx3culx3enx3clix3ex3csmallx3eProvide clear and accurate information using WHO classificationx3csmallx3ex3clix3enx3clix3ex3csmallx3eSupport self-understanding and recognitionx3csmallx3ex3clix3enx3clix3ex3csmallx3eEncourage respectful and informed communication with healthcare professionals, if desiredx3csmallx3ex3clix3enx3culx3enx3cpx3ex3csmallx3eThere is no u201crightu201d or u201cwrongu201d way to experience this informationx3csmallx3ex3cpx3enx3cdivx3e'})}function ra(){Swal.fire({html'nx3cdiv classx3dleft space-3x3enx3cpx3ex3csmallx3eThese images are not photographs. They are respectful artistic illustrations created for educational purposes. The illustrations are intended tox3csmallx3ex3cpx3enx3culx3enx3clix3ex3csmallx3eSupport understanding of bodily differencesx3csmallx3ex3clix3enx3clix3ex3csmallx3eHelp with personal recognition and namingx3csmallx3ex3clix3enx3clix3ex3csmallx3eMake it easier to talk with a healthcare professional, if you choose to do sox3csmallx3ex3clix3enx3culx3enx3cpx3ex3csmallx3eYou are not required to share your experience with anyone unless you wish to.x3csmallx3ex3cpx3enx3cdivx3e'})}async function ja(){if(window.matchMedia((display-mode standalone)).matcheswindow.navigator.standalone===!0document.referrer.includes(android-app))Swal.fire({titleAlready installed,textFSAT is already running as a native-like app on this device.,iconsuccess,confirmButtonTextOK});else if(A)Swal.fire({titleInstall FSAT,htmlThe application will be added locally on your device.x3cbrx3eIt will then appear like an application and also work offline.,iconinfo,showCancelButton!0,confirmButtonTextInstall now,cancelButtonTextMaybe later}).then(e={e.isConfirmed&&(A.prompt(),A.userChoice.then(b={b.outcome===acceptedSwal.fire(Success!,FSAT is now an application on your device.,success)Swal.fire(Installation cancelled,,info);A=null}))});else{var a=navigator.userAgent.toLowerCase(),c=;c=iphoneipadipod.test(a)&&!window.MSStream'nx3cpx3eThis browser does not support automatic installation.x3cpx3enx3cpx3ex3cstrongx3eOn Safari (iPhoneiPad)x3cstrongx3ex3cpx3enx3col stylex3dtext-alignleftx3enx3clix3eTap the x3cstrongx3eShare buttonx3cstrongx3e (square with upward arrow) at the bottomx3clix3enx3clix3eSelect x3cstrongx3eAdd to Home Screenx3cstrongx3ex3clix3enx3colx3enx3cpx3eThe FSAT icon will appear on your home screen and will work offline.x3cpx3en'android.test(a)'nx3cpx3eThis browser does not support automatic installation.x3cpx3enx3cpx3ex3cstrongx3eOn Androidx3cstrongx3ex3cpx3enx3col stylex3dtext-alignleftx3enx3clix3eTap the menu x3cstrongx3eu22eex3cstrongx3e in the address barx3clix3enx3clix3eChoose x3cstrongx3eInstall appx3cstrongx3e or x3cstrongx3eAdd to Home screenx3cstrongx3ex3clix3enx3colx3en''nx3cpx3eThis browser does not support automatic installation.x3cpx3enx3cpx3ex3cstrongx3eOn desktopx3cstrongx3ex3cpx3enx3cul stylex3dtext-alignleftx3enx3clix3ex3cstrongx3eChrome  Edgex3cstrongx3e Click the x3cstrongx3e+x3cstrongx3e icon or u201cInstall FSATu201d in the address barx3clix3enx3clix3ex3cstrongx3eFirefoxx3cstrongx3e Menu u2192 Install the applicationx3clix3enx3culx3en';Swal.fire({titleManual installation,htmlc,iconinfo,confirmButtonTextOK})}}async function ka(){if((await Swal.fire({titleDelete your account ,html'x3cdiv classx3dleftx3eThis action x3cstrongx3ewill permanently deletex3cstrongx3e x3cbrx3ex3culx3ex3clix3eYour account profilx3clix3ex3clix3eAll patients saved on this device.x3clix3ex3culx3ex3cdivx3e',iconwarning,showCancelButton!0,confirmButtonTextYes, delete,confirmButtonColortomato,cancelButtonTextCancel,didOpen()={Swal.getPopup().querySelector(.swal2-cancel).classList.add(contrast);Swal.getPopup().querySelector(.swal2-confirm).classList.add(tomato)}})).isConfirmed)try{await p.delete(),await Swal.fire({titleDatabase removed from this device,textAll local data has been deleted.,iconsuccess}),window.location.reload(!0)}catch(a){console.error(a),Swal.fire(Erreur,Impossible to delete the local database.,error)}}function la(){u.innerHTML=;u.classList.add(inactive);document.body.classList.remove(fade-white);S(!0);document.getElementById(patient-info).style.display=none;const a=document.getElementById(patient-gallery);a.classList.remove(plain-section);a.querySelectorAll(a.watercolor-thumb).forEach(c={c.classList.add(aos-animate);c.setAttribute(data-aos-mirror,false);c.setAttribute(data-aos-once,true);c.removeEventListener(click,ca);c.addEventListener(click,ca)});AOS.refreshHard()}async function ca(a){a.preventDefault();const c=a.currentTarget.getAttribute(data-type);var e=a.currentTarget.getAttribute(data-text);a=a.currentTarget.querySelector(img).src;const b=c===No scarimgomsNM.jpg`imgoms${c.slice(0,-1)}.jpg`;(await Swal.fire({html`div class=grid style=padding0section style=padding 4px;img src=${a} class=selected-img alt=Selected imagesectionarticlep class=justify space-yt-1 style=${c===Unknowndisplaynone}b${c===UnknownI don't knowc}b ${e}phrpb class=space-y-2${c===UnknownNone of the previous drawings correspond, or I don't know.Does this drawing correspond most closely to your anatomy }bpdiv class=space-x-2 clamp-4 style=marginautodiv class=gridbutton id=btn-confirm class=btn-confirmu2714 Yes, selectbuttonbutton id=btn-cancel class=btn-cancel contrastu2716 No, choose anotherbuttondivdivhrdetails style=${c===Unknowndisplaynone}summaryMore informationsummaryimg src=${b} style=widthauto;max-height32vhp class=space-x-2small style=font-size0.6emWorld Health Organization - (28 April 2025)smallpdetailshr style=${c===Unknowndisplaynone}articlediv`,showConfirmButton!1,showCancelButton!1,confirmButtonText'x3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dfeatherx3ex3cpolyline pointsx3d20 6 9 17 4 12x3ex3cpolylinex3ex3csvgx3ex3cbr classx3dno-phonex3eYes, select',cancelButtonText'x3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dfeatherx3ex3cline x1x3d18 y1x3d6 x2x3d6 y2x3d18x3ex3clinex3ex3cline x1x3d6 y1x3d6 x2x3d18 y2x3d18x3ex3clinex3ex3csvgx3e x3cbr classx3dno-phonex3e No, choose another ',didOpen()={Swal.getPopup().classList.add(watercolor-img,patient);Swal.getPopup().querySelector(#btn-confirm).addEventListener(click,()={Swal.close({isConfirmed!0})});Swal.getPopup().querySelector(#btn-cancel).addEventListener(click,()={Swal.close({isDismissed!0})});Swal.getPopup().querySelector(#btn-cancel).focus()}})).isConfirmed&&(await Swal.fire({titleThank you for your response,html'nx3carticle classx3dspace-2 left clamp-4 stylex3dmarginautox3enx3cfieldsetx3enx3clabelx3enx3cinput typex3dcheckbox idx3dswal-consent namex3dconsent checked x3e I consent to the anonymous storage of my sociodemographic data for health research purposes only, in accordance with applicable local regulationsnx3clabelx3enx3cix3eUncheck this box if you do not consent.x3cix3enx3cfieldsetx3enx3carticlex3enx3cdiv classx3dclamp-4 left space-yt-2 stylex3dmarginautox3enx3cbx3eYou can now return the device to your healthcare professional.x3cbx3enx3cdivx3enx3cp classx3dcenterx3enx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dfeather thumb-3x3ex3cpolyline pointsx3d9 10 4 15 9 20x3ex3cpolylinex3ex3cpath dx3dM20 4v7a4 4 0 0 1-4 4H4x3ex3cpathx3ex3csvgx3enx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dfeather thumb-3x3ex3crect xx3d2 yx3d3 widthx3d20 heightx3d14 rxx3d2 ryx3d2x3ex3crectx3ex3cline x1x3d8 y1x3d21 x2x3d16 y2x3d21x3ex3clinex3ex3cline x1x3d12 y1x3d17 x2x3d12 y2x3d21x3ex3clinex3ex3csvgx3enx3cpx3e',showConfirmButton!0,showCloseButton!1,allowOutsideClick!1,confirmButtonTextContinue as a healthcare professional,didOpen()={Swal.getPopup().classList.add(swal-hug-popup-white)}})).isConfirmed&&(e=(e=document.getElementById(swal-consent))e.checked!1,Z(),J(),ya(c,e===!010))}function T(){var a=Math.min(window.screen.width,window.screen.height);a=600&&a=1200&&((a=window.innerHeightwindow.innerWidth)&&!Swal.isVisible()&&Swal.fire({html'nx3cdiv stylex3dfont-size1.2em; margin1em auto 0.5rem autox3enFor the best experience, please rotate your device to x3cbx3elandscape modex3cbx3e.nx3cdivx3enx3csvg viewBoxx3d0 0 24 24 widthx3d48 heightx3d48 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dcss-i6dzq1x3ex3cpolyline pointsx3d23 4 23 10 17 10x3ex3cpolylinex3ex3cpath dx3dM20.49 15a9 9 0 1 1-2.12-9.36L23 10x3ex3cpathx3ex3csvgx3en',showConfirmButton!1,allowOutsideClick!1,allowEscapeKey!1,backdrop!0}),!a&&Swal.isVisible()&&Swal.close())}function pa(){async function a(f){c&&(c.destroy(),c=null);const l=document.getElementById(fsat-data).getContext(2d);var h=await p.users.where(deleted).equals(0).toArray();if(h.length===0)c=new Chart(l,{typebar,data{labels[No Data],datasets[{labelPatients,data[0]}]},options{scales{y{beginAtZero!0,ticks{stepSize1}}}}});else{switch(f){case countriesconst n={};h.forEach(d={d=d.countryOriginUnknown;n[d]=(n[d]0)+1});f=Object.keys(n);h=Object.values(n);var k={typepie,data{labelsf,datasets[{datah,backgroundColor[#FF6384,#36A2EB,#FFCE56,#4BC0C0,#9966FF]}]},options{responsive!0}};break;case currentAgesconst q=0-5 6-10 11-15 16-20 21-40 41-60 61+ Unknown.split( ),r=Array(q.length).fill(0);h.forEach(d={if(d.birthDate){var m=new Date;d=new Date(d.birthDate);let w=m.getFullYear()-d.getFullYear();const da=m.getMonth()-d.getMonth();(da0da===0&&m.getDate()d.getDate())&&w--;m=w;m=5r[0]++m=10r[1]++m=15r[2]++m=20r[3]++m=40r[4]++m=60r[5]++r[6]++}else r[q.indexOf(Unknown)]++});f=q;k={typebar,data{labelsf,datasets[{labelCurrent Age,datar,backgroundColorrgba(153, 102, 255, 0.6)}]},options{scales{y{beginAtZero!0,ticks{stepSize1}}}}};break;case fgmAgesf=Less than 1 year;1u20134 years;5u20139 years;10u201314 years;15 years or older;Donu2019t know  Cannot recall.split(;);const t=Array(f.length).fill(0);h.forEach(d={d=d.ageAtFgm;d==nullt[5]++d1t[0]++d=4t[1]++d=9t[2]++d=14t[3]++t[4]++});k={typebar,data{labelsf,datasets[{labelAge at FGMC,datat,backgroundColorrgba(255, 99, 132, 0.6)}]},options{scales{y{beginAtZero!0,ticks{stepSize1}}}}};break;case violenceHistoryconst y={physical0,sexual0,psychological0,several0,No history0,Unknown0};h.forEach(d={d=d.violenceHistoryUnknown;d in yy[d]++y.Unknown++});f=Object.keys(y).map(d=d===severalSeveral typesd.replace(No history,No history of violence));h=Object.values(y);k={typedoughnut,data{labelsf,datasets[{datah,backgroundColor#FF6384 #36A2EB #FFCE56 #4BC0C0 #9966FF #FF9F40.split( )}]},options{responsive!0}};break;case menopauseconst D={Pre_pubertal0,Pre_menopausal0,Peri_menopausal0,Post_menopausal0,Unknown0};h.forEach(d={d=d.menopauseUnknown;D[d]=(D[d]0)+1});f=Object.keys(D);h=Object.values(D);k={typepie,data{labelsf,datasets[{datah,backgroundColor[#FF6384,#36A2EB,#FFCE56,#4BC0C0]}]},options{responsive!0}};break;case numDeliveriesconst v={00,1-20,3-40,5+0,Unknown0};h.forEach(d={d=d.numDeliveries;d==nullv.Unknown++d===0v[0]++d=2v[1-2]++d=4v[3-4]++v[5+]++});f=Object.keys(v);h=Object.values(v);k={typebar,data{labelsf,datasets[{label# of Patients by Number of Deliveries,datah,backgroundColorrgba(54, 162, 235, 0.6)}]},options{scales{y{beginAtZero!0,ticks{stepSize1}}}}};break;case fgmTypesconst z=Ia;Ib;IIa;IIb;IIc;IIIa;IIIb;IV;No scar;Unknown.split(;),L=Array(z.length).fill(0),M=Array(z.length).fill(0);h.forEach(d={var m=d.fgmProfessionalTypeUnknown;d=z.indexOf(d.fgmPatientTypeUnknown);m=z.indexOf(m);d!==-1&&L[d]++;m!==-1&&M[m]++});f=z;k={typebar,data{labelsf,datasets[{labelPatient-Reported,dataL,backgroundColorrgba(75, 192, 192, 0.6)},{labelProfessional Assessment,dataM,backgroundColorrgba(255, 159, 64, 0.6)}]},options{scales{y{beginAtZero!0,ticks{stepSize1}}}}};break;case religionconst N={Christianity0,Islam0,Judaism0,Buddhism0,Sikhism0,Other0,None0,Undisclosed0,Unknown0};h.forEach(d={d=d.religionUnknown;N[d]=(N[d]0)+1});k={typepie,data{labelsObject.keys(N),datasets[{dataObject.values(N)}]},options{responsive!0}};break;case maritalStatusconst O={Single0,Married0,Divorced0,Widowed0,relationship0,Unknown0};h.forEach(d={d=d.maritalStatusUnknown;O[d]=(O[d]0)+1});k={typebar,data{labelsObject.keys(O),datasets[{labelMarital status,dataObject.values(O)}]},options{scales{y{beginAtZero!0,ticks{stepSize1}}}}};break;case defibulationconst P={in_labour0,during_pregnancy0,outside_pregnancy0,No defibulation0,Unknown0};h.forEach(d={d=d.defibulationUnknown;P[d]=(P[d]0)+1});k={typedoughnut,data{labelsObject.keys(P),datasets[{dataObject.values(P)}]}};break;case reconstructiveSurgeryconst U={Yes0,No0,Unknown0};h.forEach(d={U[d.reconstructiveSurgeryHistoryUnknown]++});k={typepie,data{labelsObject.keys(U),datasets[{dataObject.values(U)}]}};break;case supportconst V={Yes0,No0,Unknown0};h.forEach(d={V[d.supportUnknown]++});k={typebar,data{labelsObject.keys(V),datasets[{labelPsychological support,dataObject.values(V)}]},options{scales{y{beginAtZero!0,ticks{stepSize1}}}}};break;case fgmTypeByAgeAtFgmconst W=Ia;Ib;IIa;IIb;IIc;IIIa;IIIb;IV;No scar;Unknown.split(;),ea=x3c1 1u20134 5u20139 10u201314 15+ Unknown.split( ),Q={};W.forEach(d={Q[d]=Array(ea.length).fill(0)});h.forEach(d={const m=d.fgmProfessionalTypeUnknown;let w=5;d.ageAtFgm!=null&&(w=d.ageAtFgm10d.ageAtFgm=41d.ageAtFgm=92d.ageAtFgm=1434);Q[m]&&Q[m][w]++});k={typebar,data{labelsW,datasetsea.map((d,m)=({label`Age at FGM ${d}`,dataW.map(w=Q[w][m])}))},options{scales{x{stacked!0},y{stacked!0,beginAtZero!0,ticks{stepSize1}}}}};break;case fgmConcordanceconst H={Concordant0,Discordant0,Unknown0};h.forEach(d={d.fgmPatientType&&d.fgmProfessionalTyped.fgmPatientType===d.fgmProfessionalTypeH.Concordant++H.Discordant++H.Unknown++});k={typebar,data{labelsObject.keys(H),datasets[{labelFGMC concordance,dataObject.values(H)}]},options{scales{y{beginAtZero!0,ticks{stepSize1}}}}};break;case fgmTypeByCountryconst X=Ia;Ib;IIa;IIb;IIc;IIIa;IIIb;IV;No scar;Unknown.split(;),I={};h.forEach(d={d=d.countryOriginUnknown;I[d]=(I[d]0)+1});let B=f=Object.keys(I).sort((d,m)=I[m]-I[d]);f.length7&&(B=f.slice(0,6),B.push(Other));const Y={};X.forEach(d={Y[d]=Array(B.length).fill(0)});h.forEach(d={const m=d.fgmProfessionalTypeUnknown;d=B.indexOf(d.countryOriginUnknown);d===-1&&B.includes(Other)&&(d=B.indexOf(Other));d!==-1&&Y[m][d]++});k={typebar,data{labelsX,datasetsB.map((d,m)=({labeld,dataX.map(w=Y[w][m])}))},options{scales{x{stacked!0},y{stacked!0,beginAtZero!0,ticks{stepSize1}}},plugins{legend{positiontop}}}}}c=new Chart(l,k)}}let c=null;const e=document.querySelector(#clinician-view .plain-section .container x3e div),b=document.createElement(div);b.innerHTML='nx3cdivx3enx3cdiv classx3dspace-y-2 data-buttonsx3enx3cbutton classx3doutline data-chartx3dfgmTypesx3eFGM typesx3cbuttonx3enx3cbutton classx3doutline data-chartx3dcountriesx3eCountriesx3cbuttonx3enx3cbutton classx3doutline data-chartx3dcurrentAgesx3eCurrent Agesx3cbuttonx3enx3cbutton classx3doutline data-chartx3dfgmAgesx3eAges at FGMx3cbuttonx3enx3cdivx3enx3cselect classx3dclamp-4 idx3dchart-selectorx3enx3coption valuex3dx3eMore datax3coptionx3enx3coption valuex3dviolenceHistoryx3eViolence historyx3coptionx3enx3coption valuex3dmenopausex3eMenopausex3coptionx3enx3coption valuex3dnumDeliveriesx3eDeliveriesx3coptionx3enx3coption valuex3dreligionx3eReligionx3coptionx3enx3coption valuex3dmaritalStatusx3eMarital statusx3coptionx3enx3coption valuex3ddefibulationx3eDefibulationx3coptionx3enx3coption valuex3dreconstructiveSurgeryx3eReconstructive surgeryx3coptionx3enx3coption valuex3dsupportx3ePsychological supportx3coptionx3enx3coption valuex3dfgmTypeByAgeAtFgmx3eFGM type u00d7 age at FGMx3coptionx3enx3coption valuex3dfgmConcordancex3eFGM type concordancex3coptionx3enx3coption valuex3dfgmTypeByCountryx3eFGM type u00d7 countryx3coptionx3enx3cselectx3enx3cdivx3en';b.querySelectorAll(button[data-chart]).forEach(f={f.addEventListener(click,()={a(f.dataset.chart)})});const g=b.querySelector(#chart-selector);g.addEventListener(change,()={g.value&&(a(g.value),g.value=)});e.insertBefore(b,e.querySelector(canvas));a(fgmTypes);return{refresh(f=fgmTypes)=a(f)}}const u=document.getElementById(clinician-view),x=document.getElementById(patient-view);let E;const p=new Dexie(DB_HUG_FSAT);p.version(12).stores({configkey,clinicianid, firstName, lastName, profession, age, institution, country, email, passwordHash, securityType, securityHash,users++id, uniqueId, composedId, lastName, firstName, birthDate, fgmPatientType, fgmProfessionalType, countryOrigin, religion, maritalStatus, ageAtFgm, violenceHistory, psychologicalSupport, defibulationHistory, reconstructiveSurgeryHistory, numDeliveries, menopause, createdAt, deleted, consentToSync}).upgrade(a={a.table(users).toCollection().modify(c={c.deleted=c.deleted===!010;c.consentToSync=c.consentToSync===!101})});let A=null;window.addEventListener(beforeinstallprompt,a={a.preventDefault();A=a});window.addEventListener(appinstalled,()={A=null});document.querySelectorAll(.start-btn).forEach(a=a.addEventListener(click,Aa));window.addEventListener(online,K);window.addEventListener(offline,K);window.addEventListener(load,T);window.addEventListener(resize,T);window.addEventListener(orientationchange,T);serviceWorkerin navigator&&(window.addEventListener(load,()={navigator.serviceWorker.register(fsatsw.jsvx3d55,{scopefsat}).then(a={setTimeout(()={a&&a.active&&a.update().catch(()={})},5E3);a.addEventListener(updatefound,()={const c=a.installing;c.addEventListener(statechange,()={c.state===installed&&navigator.serviceWorker.controller&&Swal.fire({iconinfo,titleUpdate available,textA new version of the app is available. Refresh to apply,showCancelButton!0,confirmButtonTextRefresh,cancelButtonTextLater}).then(e={e.isConfirmed&&window.location.reload()})})})}).catch(a=console.error(SW Error,a))}),navigator.serviceWorker.addEventListener(controllerchange,()={window.location.reload()}));window.addEventListener(beforeinstallprompt,a={a.preventDefault();A=a});const Ba=a=Array.from(document.querySelectorAll(a)),Ca=()={var a=document.querySelector(.dark-mode-toggler);a&&(a.insertAdjacentHTML(afterbegin,'nx3cinput typex3dcheckbox idx3ddarkmodex3enx3clabel forx3ddarkmode classx3dtogglex3enx3cspanx3eToggle dark modex3cspanx3enx3clabelx3en'),a=a.querySelector(#darkmode),document.documentElement.dataset.theme=a.checkeddarklight,a.addEventListener(change,c={document.documentElement.dataset.theme=c.target.checkeddarklight}))},Da=(a,c)={const e=Array.from(document.querySelectorAll(`.auto-list  sectionnth-of-type(${c+1})  h2`)),b=a.querySelector(`detailsnth-of-type(${c+1})  ul`);e.forEach(g={const f=g.textContent.toLowerCase().trim().replace([^ws-]g,).replace(s+g,-);g.id=f;b.insertAdjacentHTML(beforeend,`lia href=#${f} data-target=${f}${g.textContent}ali`)})},Ea=a=(c,e)={const b=c.textContent.toLowerCase().trim().replace([^ws-]g,).replace(s+g,-);c.id=b;a.insertAdjacentHTML(beforeend,`detailssummarya href=#${b} data-target=${b}${c.textContent}asummaryululdetails`);Da(a,e)},Fa=a={Array.from(document.querySelectorAll(.auto-list x3e h1)).forEach(Ea(a))},fa=a={const c=Array.from(document.querySelectorAll(.auto-list x3e h1 + section, .auto-list x3e h1));if(c.length!==0){var e=Ba([`.auto-list  h1#${a} + section`,`.auto-list  h1#${a}`,`.auto-list  h1 + sectionhas(#${a})`,`.auto-list  h1has(+ section  #${a})`].join(, ));c.forEach(b={var g=!e.includes(b);b.classList.toggle(collapsed,g)})}},ha=a={Array.from(document.querySelectorAll(.auto-complete x3e details)).forEach(c={c.removeAttribute(open)});(a=document.querySelector(`[data-target=${a}]`).closest(details))&&a.setAttribute(open,!0)},Ga=()={const a=document.querySelector(.auto-list x3e h1first-of-type).id,c=window.location.hashwindow.location.hash.substring(1)a;fa(c);ha(c);window.addEventListener(hashchange,()={const e=window.location.hashwindow.location.hash.substring(1)a;fa(e);ha(e)})},Ha=()={const a=document.createElement(ul);a.classList.add(burger-menu-overlay);a.insertAdjacentHTML(afterbegin,x3clix3ex3ca classx3d'burger-close'x3ex3csvg viewBoxx3d'0 0 24 24' widthx3d'24' heightx3d'24' strokex3d'currentColor' stroke-widthx3d'2' fillx3d'none' stroke-linecapx3d'round' stroke-linejoinx3d'round' classx3d'feather'x3ex3cline x1x3d'18' y1x3d'6' x2x3d'6' y2x3d'18'x3ex3clinex3ex3cline x1x3d'6' y1x3d'6' x2x3d'18' y2x3d'18'x3ex3clinex3ex3csvgx3ex3cax3ex3clix3e);return a},Ia=()={const a=Array.from(document.querySelectorAll(body x3e .container header nav x3e ulnot(first-of-type) x3e linot(.separator, .dark-mode-toggler)));if(a.length!==0){a.forEach(e={e.classList.contains(burger-menu)e.classList.add(phone-burger-menu)});var c=document.querySelector(.burger-menu-overlay);c(c=Ha(),Array.from(document.querySelectorAll(.burger-menu, .phone-burger-menu)).forEach(e={const b=e.cloneNode(!0);b.querySelector(a).addEventListener(click,()={e.querySelector(a).click();c.classList.toggle(open)});c.append(b)}),document.querySelector(header).append(c));a[0].parentElement.children[0].children[0].classList.contains(burger-icon)a[0].insertAdjacentHTML(beforebegin,'nx3clix3enx3ca classx3d'burger-icon'x3enx3csvg viewBoxx3d0 0 24 24 widthx3d24 heightx3d24 strokex3dcurrentColor stroke-widthx3d2 fillx3dnone stroke-linecapx3dround stroke-linejoinx3dround classx3dthumb-1x3ex3cline x1x3d3 y1x3d12 x2x3d21 y2x3d12x3ex3clinex3ex3cline x1x3d3 y1x3d6 x2x3d21 y2x3d6x3ex3clinex3ex3cline x1x3d3 y1x3d18 x2x3d21 y2x3d18x3ex3clinex3ex3csvgx3enx3cax3enx3clix3en');Array.from(document.querySelectorAll(header .burger-icon, header .burger-close)).forEach(e={e.addEventListener(click,()={document.querySelector(header .burger-menu-overlay).classList.toggle(open)})})}},Ja=()={const a=document.querySelector(.breadcrumb),c=document.querySelector(body x3e .container .container.grid x3e aside);a&&((new IntersectionObserver(([e])={const b=e.intersectionRatio1;e.target.classList.toggle(sticky,b);c&&c.classList.toggle(sticky,b)},{threshold[1]})).observe(a),a.children[0].insertAdjacentHTML(beforeend,x3cli classx3d'breadcrumb-burger-menu'x3ex3csvg viewBoxx3d'0 0 24 24' widthx3d'24' heightx3d'24' strokex3d'currentColor' stroke-widthx3d'2' fillx3d'none' stroke-linecapx3d'round' stroke-linejoinx3d'round' classx3d'thumb-1'x3ex3cline x1x3d'3' y1x3d'12' x2x3d'21' y2x3d'12'x3ex3clinex3ex3cline x1x3d'3' y1x3d'6' x2x3d'21' y2x3d'6'x3ex3clinex3ex3cline x1x3d'3' y1x3d'18' x2x3d'21' y2x3d'18'x3ex3clinex3ex3csvgx3e),document.querySelector(.breadcrumb-burger-menu).addEventListener(click,()={c.classList.toggle(open)}));c&&Array.from(document.querySelectorAll(aside li x3e a)).forEach(e={e.addEventListener(click,()=c.classList.toggle(open))})};let C=null;const ia=a={const c=window.innerWidth-document.documentElement.clientWidth;c&&document.documentElement.style.setProperty(--pico-scrollbar-width,`${c}px`);document.documentElement.classList.add(modal-is-open,modal-is-opening);setTimeout(()={C=a;document.documentElement.classList.remove(modal-is-opening)},400);a.showModal();a.querySelector(button[relx3d'prev']).blur()},R=a={C=null;document.documentElement.classList.add(modal-is-closing);setTimeout(()={document.documentElement.classList.remove(modal-is-closing,modal-is-open);document.documentElement.style.removeProperty(--pico-scrollbar-width);a.close()},400)},Ka=a={a.previousElementSibling.addEventListener(click,c={c.preventDefault();a&&(a.openR(a)ia(a))});a.querySelector(button[relx3d'prev']).addEventListener(click,c={c.preventDefault();a&&(a.openR(a)ia(a))})},La=()={document.addEventListener(click,a={C&&(C.querySelector(article).contains(a.target)R(C))});document.addEventListener(keydown,a={a.key===Escape&&C&&R(C)})},Ma=()={const a=Array.from(document.querySelectorAll(dialog));a.length!==0&&(a.forEach(c={var e=c.querySelector(header);if(!e){e=document.createElement(header);e.insertAdjacentHTML(afterbegin,x3cbutton aria-labelx3d'close' relx3d'prev'x3ex3cbuttonx3e);c.prepend(e);const b=c.querySelector(h1, h2, h3, hgroup);b&&(b.parentNode.insertBefore(e,b),e.appendChild(b))}e=c.querySelector(article);if(!e){for(e=document.createElement(article);c.firstChild;)e.appendChild(c.firstChild);c.appendChild(e)}Ka(c)}),La())};document.addEventListener(DOMContentLoaded,()={Ca();{const a=Array.from(document.querySelectorAll(nav.auto-complete));a.length!==0&&a.forEach(Fa)}Ga();Ia();Ja();Ma();typeof AOS!==undefined&&AOS.init()})})();